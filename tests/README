'make check' is the command to perform the series of tests (optimisation of geometry):
- C             carbon atom
- Ca2           dimer of Ca
- H             hydrogen atom
- H-spin        hydrogen atom with Local Spin Density
- Li+           lithium ion
- Mn2           non-collinear spin
- NaCl          sodium chloride
- SiH4          silane
- Davidson-SiH4 calculate the Kohn-Sham eigenvalues (diagonalisation)
- SiBulk        a periodic cell of 8 Si atoms
- H2O-CP2K      Use the output wavefunctions from CP2K
                (example to import wavefunctions from Gaussian basis sets)
- MINHOP        Use the minima hopping algorithm (program global from file global.F90)
                Warning: The file 'global.f90' is not freely distributed

This call the program "cluster" in the src directories.
The program "memguess" followed by the number of processors checks the input files and estimates the required memory.

The input files are:
- input.dat for the parameters of calculations
- posinp    for the atomic position
            The format is the number of atoms + atomic, bohr or angstroem for units
            and per line coordinates and name of each atoms
- psppar.<name of atom> for the pseudopotentiel (ex, 'psppar.H_lda)
            In this version only GTH pseudopotentials are used (PRB 54, 1703 (1996))
            HGH will be available shortly

- inguess.dat for the initial guess of wavefunctions (sum of gaussian functions)
            IF THIS FILE IS NOT PRESENT, THE INPUT GUESS IS AUTOMATICALLY GENERATED.
- occup.dat for the occupation numbers (see C directory as example)
            IF THIS FILE IS NOT PRESENT, the orbital number is (nelec+1)/2 with 2.0 as occupation numbers

The directory 'Refs' contains the reference ouput files (gfortran 4.1.2)
A diff is performed after each calculations to check the accuracy.

"input.dat" file
----------------
1        ncount_cluster: Max number of wavefunction optimizations during geometry relaxation
1.d0     frac_fluct: geometry optimization stops if force norm less than frac_fluct of noise
0.d0     randdis: random amplitude for atoms
4.d0     betax: steepest descent step size,  if negative automatic determination
.45      hgrid: grid spacing
5.0      crmult:   crmult*radii_cf(*,1) gives the coarse radius around each atom
9.       frmult:   frmult*radii_cf(*,2) gives the fine   radius around each atom
1        ixc: exchange-correlation parameter (LDA=1)
0 0.d0   ncharge: total charge (0=neutral), Electric field
1.d-4    gnrm_cv: convergence criterion gradient
50       itermax: maximum number of energy minimization steps
15       ncong: number of conjugate gradient iterations for the solution of the preconditioning equation
6        idsx: length of the diis history. if =0 steepest descent
.true.   calc_tail: calculate tail for better energy
5.       rbuf  : length of the tail to be added (in atomic units)
30       ncongt: number of conjugate gradient iterations for the calculation of tail
1 0      nspin=1 non-spin polarization, mpol=total magnetic moment
0 .false. .false. InputPsiId, output_wf, output_grid 

For accuracy, we recommend to use 0.45 or lower as hgrid (grid step). 
For some systems (Si), it is possible to increase hgrid.
crmult is the extension of the coarse mesh. 5 is nice. With the tail extension, you can decrease up to 3
to save time.

"posinp" file
-------------
          2   angstroem
 10. 10. 10. Na_lda
 10. 10. 12.36 Cl_lda 

You specify the number of atoms followed by the units (angstroem or bohr)
Then the coordinates of the atoms

psppar.<name of atom> files
---------------------------
These files use the same format as ABINIT: See http://www.abinit.org/Psps

"inguess.dat" file
------------------
We recommend not to use this file because the automatic generation works fine.
Nevertheless, the format is the same as the file "inguess.new" generated by the program.

"occup.dat" file
----------------
<norb> the number of orbitals
<iorb> <occup(iorb)>

By default, the occupation numbers are the same without the file "occup.dat".
In the file "occup.dat", you can specify only the occupation numbers differnet from 0 or 2.

Test in parallel
----------------
Use the environment variable 'run_parallel' as:
export run_parallel='ompirun -np 2'
To use a batch system, add a batch file with:
export run_parallel=...
make check


